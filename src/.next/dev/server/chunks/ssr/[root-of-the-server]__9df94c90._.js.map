{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/harshithj/Documents/Projects/PESU_EC_CSE_D_P25_Digital_Asset_and_Cryptocurrency_Portfolio_Tracker_Stash/src/lib/supabase/supabaseClient.ts"],"sourcesContent":["// src/lib/supabase/client.ts\nimport { createBrowserClient } from '@supabase/ssr'\n\nexport function createClient() {\n  return createBrowserClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n  )\n}"],"names":[],"mappings":"AAAA,6BAA6B;;;;;AAC7B;AAAA;;AAEO,SAAS;IACd,OAAO,IAAA,+SAAmB;AAI5B","debugId":null}},
    {"offset": {"line": 61, "column": 0}, "map": {"version":3,"sources":["file:///Users/harshithj/Documents/Projects/PESU_EC_CSE_D_P25_Digital_Asset_and_Cryptocurrency_Portfolio_Tracker_Stash/src/app/%28main%29/alerts/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { createClient } from \"../../../lib/supabase/supabaseClient\";\nimport { motion } from \"framer-motion\";\n\nexport default function AlertsPage() {\n  const supabase = createClient();\n  const [alerts, setAlerts] = useState<any[]>([]);\n  const [form, setForm] = useState({ symbol: \"\", condition: \">\", target: \"\" });\n  const [loading, setLoading] = useState(true);\n  const [message, setMessage] = useState(\"\");\n\n  useEffect(() => {\n    const fetchAlerts = async () => {\n      const { data: { user } } = await supabase.auth.getUser();\n      if (!user) return;\n      const { data } = await supabase.from(\"alerts\").select(\"*\").eq(\"user_id\", user.id);\n      setAlerts(data || []);\n      setLoading(false);\n    };\n    fetchAlerts();\n  }, [supabase]);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  };\n\n  const handleAddAlert = async (e: React.FormEvent) => {\n    e.preventDefault();\n    const { data: { user } } = await supabase.auth.getUser();\n    if (!user) return;\n\n    const { error } = await supabase.from(\"alerts\").insert({\n      user_id: user.id,\n      symbol: form.symbol.toUpperCase(),\n      condition: form.condition,\n      target_value: parseFloat(form.target),\n    });\n\n    if (error) setMessage(error.message);\n    else {\n      setMessage(`âœ… Alert added for ${form.symbol.toUpperCase()}`);\n      setForm({ symbol: \"\", condition: \">\", target: \"\" });\n      const { data } = await supabase.from(\"alerts\").select(\"*\").eq(\"user_id\", user.id);\n      setAlerts(data || []);\n    }\n  };\n\n  const handleDelete = async (id: string) => {\n    await supabase.from(\"alerts\").delete().eq(\"id\", id);\n    setAlerts(alerts.filter((a) => a.id !== id));\n  };\n\n  return (\n    <div className=\"min-h-screen bg-black text-white p-6\">\n      <div className=\"max-w-5xl mx-auto\">\n        <h1 className=\"text-3xl font-bold mb-8\">Price Alerts</h1>\n\n        {/* Create Alert Form */}\n        <motion.form\n          onSubmit={handleAddAlert}\n          className=\"bg-[#0b0b0b] border border-gray-800 p-6 rounded-2xl mb-8 grid sm:grid-cols-4 gap-3\"\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n        >\n          <input\n            name=\"symbol\"\n            value={form.symbol}\n            onChange={handleChange}\n            placeholder=\"Symbol (e.g. BTC)\"\n            required\n            className=\"p-3 bg-black border border-gray-700 rounded-lg text-gray-300 focus:ring-2 focus:ring-gray-500 outline-none\"\n          />\n          <select\n            name=\"condition\"\n            value={form.condition}\n            onChange={handleChange}\n            className=\"p-3 bg-black border border-gray-700 rounded-lg text-gray-300\"\n          >\n            <option value=\">\">Above</option>\n            <option value=\"<\">Below</option>\n          </select>\n          <input\n            name=\"target\"\n            value={form.target}\n            onChange={handleChange}\n            placeholder=\"Target price\"\n            type=\"number\"\n            required\n            className=\"p-3 bg-black border border-gray-700 rounded-lg text-gray-300 focus:ring-2 focus:ring-gray-500 outline-none\"\n          />\n          <button\n            type=\"submit\"\n            className=\"p-3 bg-white text-black rounded-lg font-semibold hover:bg-gray-200 transition\"\n          >\n            Add Alert\n          </button>\n        </motion.form>\n\n        {message && <p className=\"text-gray-400 text-center mb-6\">{message}</p>}\n\n        {/* Existing Alerts */}\n        {loading ? (\n          <p className=\"text-gray-400 text-center\">Loading alerts...</p>\n        ) : alerts.length === 0 ? (\n          <p className=\"text-gray-500 text-center\">No alerts yet. Add one above.</p>\n        ) : (\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            className=\"bg-[#0b0b0b] border border-gray-800 rounded-2xl p-6\"\n          >\n            <table className=\"w-full text-left text-gray-300\">\n              <thead className=\"text-gray-500 text-sm border-b border-gray-800\">\n                <tr>\n                  <th className=\"py-3\">Symbol</th>\n                  <th className=\"py-3\">Condition</th>\n                  <th className=\"py-3\">Target</th>\n                  <th className=\"py-3 text-right\">Action</th>\n                </tr>\n              </thead>\n              <tbody>\n                {alerts.map((a) => (\n                  <tr key={a.id} className=\"border-b border-gray-900 hover:bg-gray-900\">\n                    <td className=\"py-3 font-semibold\">{a.symbol}</td>\n                    <td className=\"py-3\">{a.condition}</td>\n                    <td className=\"py-3\">${a.target_value}</td>\n                    <td className=\"py-3 text-right\">\n                      <button\n                        onClick={() => handleDelete(a.id)}\n                        className=\"px-3 py-1 text-sm bg-gray-800 rounded-lg hover:bg-gray-700\"\n                      >\n                        Delete\n                      </button>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </motion.div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}