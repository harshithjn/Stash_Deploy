{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/harshithj/Documents/Projects/PESU_EC_CSE_D_P25_Digital_Asset_and_Cryptocurrency_Portfolio_Tracker_Stash/src/lib/supabase/supabaseClient.ts"],"sourcesContent":["// src/lib/supabase/client.ts\nimport { createBrowserClient } from '@supabase/ssr'\n\nexport function createClient() {\n  return createBrowserClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n  )\n}"],"names":[],"mappings":"AAAA,6BAA6B;;;;;AAKzB;AAJJ;AAAA;;AAEO,SAAS;IACd,OAAO,IAAA,kTAAmB;AAI5B","debugId":null}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///Users/harshithj/Documents/Projects/PESU_EC_CSE_D_P25_Digital_Asset_and_Cryptocurrency_Portfolio_Tracker_Stash/src/app/%28main%29/portfolio/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { createClient } from \"../../../lib/supabase/supabaseClient\";\nimport { motion } from \"framer-motion\";\n\nexport default function PortfolioPage() {\n  const supabase = createClient();\n  const [holdings, setHoldings] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const [currency, setCurrency] = useState<\"USD\" | \"INR\">(\"USD\");\n  const [totalValue, setTotalValue] = useState(0);\n\n  useEffect(() => {\n    const fetchPortfolio = async () => {\n      setLoading(true);\n      setError(\"\");\n      const {\n        data: { user },\n      } = await supabase.auth.getUser();\n\n      if (!user) {\n        setError(\"You need to log in to view your portfolio.\");\n        setLoading(false);\n        return;\n      }\n\n      // Fetch holdings for the logged-in user\n      const { data, error } = await supabase\n        .from(\"holdings\")\n        .select(\"symbol, amount, avg_price, current_price\")\n        .eq(\"owner_id\", user.id);\n\n      if (error) {\n        setError(error.message);\n      } else {\n        setHoldings(data || []);\n        const total = data?.reduce(\n          (sum, h) => sum + h.amount * h.current_price,\n          0\n        );\n        setTotalValue(total);\n      }\n      setLoading(false);\n    };\n\n    fetchPortfolio();\n  }, [supabase]);\n\n  const toggleCurrency = () => {\n    setCurrency((prev) => (prev === \"USD\" ? \"INR\" : \"USD\"));\n  };\n\n  return (\n    <div className=\"min-h-screen bg-black text-white p-6\">\n      <div className=\"max-w-6xl mx-auto\">\n        <header className=\"flex items-center justify-between mb-8\">\n          <h1 className=\"text-3xl font-bold\">Your Portfolio</h1>\n          <button\n            onClick={toggleCurrency}\n            className=\"px-4 py-2 bg-gray-900 rounded-xl border border-gray-800 text-sm text-gray-300 hover:bg-gray-800\"\n          >\n            Switch to {currency === \"USD\" ? \"INR\" : \"USD\"}\n          </button>\n        </header>\n\n        {loading ? (\n          <div className=\"text-gray-400 text-center mt-20\">Loading portfolio...</div>\n        ) : error ? (\n          <div className=\"text-red-500 text-center mt-20\">{error}</div>\n        ) : holdings.length === 0 ? (\n          <div className=\"text-gray-500 text-center mt-20\">\n            No holdings found. Add assets from your connected wallets.\n          </div>\n        ) : (\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            className=\"bg-[#0b0b0b] border border-gray-800 rounded-2xl p-6\"\n          >\n            <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6\">\n              <div>\n                <h2 className=\"text-lg font-semibold text-gray-300\">Portfolio Value</h2>\n                <p className=\"text-3xl font-bold mt-1\">\n                  {currency === \"USD\" ? \"$\" : \"â‚¹\"}\n                  {totalValue.toLocaleString(undefined, {\n                    maximumFractionDigits: 2,\n                  })}\n                </p>\n              </div>\n            </div>\n\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full text-left text-gray-300\">\n                <thead className=\"text-gray-500 text-sm border-b border-gray-800\">\n                  <tr>\n                    <th className=\"py-3\">Asset</th>\n                    <th className=\"py-3\">Amount</th>\n                    <th className=\"py-3\">Avg Price (USD)</th>\n                    <th className=\"py-3\">Current Price (USD)</th>\n                    <th className=\"py-3\">Value (USD)</th>\n                    <th className=\"py-3 hidden sm:table-cell\">ROI %</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {holdings.map((h, i) => {\n                    const value = h.amount * h.current_price;\n                    const roi =\n                      ((h.current_price - h.avg_price) / h.avg_price) * 100;\n                    return (\n                      <tr\n                        key={i}\n                        className=\"border-b border-gray-900 hover:bg-gray-900 transition\"\n                      >\n                        <td className=\"py-3 font-semibold\">{h.symbol}</td>\n                        <td className=\"py-3\">{h.amount}</td>\n                        <td className=\"py-3\">${h.avg_price.toFixed(2)}</td>\n                        <td className=\"py-3\">${h.current_price.toFixed(2)}</td>\n                        <td className=\"py-3 font-medium\">${value.toFixed(2)}</td>\n                        <td\n                          className={`py-3 hidden sm:table-cell ${\n                            roi >= 0 ? \"text-green-400\" : \"text-red-400\"\n                          }`}\n                        >\n                          {roi.toFixed(2)}%\n                        </td>\n                      </tr>\n                    );\n                  })}\n                </tbody>\n              </table>\n            </div>\n          </motion.div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMe,SAAS;;IACtB,MAAM,WAAW,IAAA,kQAAY;IAC7B,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,uRAAQ,EAAQ,EAAE;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,uRAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,uRAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,uRAAQ,EAAgB;IACxD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,uRAAQ,EAAC;IAE7C,IAAA,wRAAS;mCAAC;YACR,MAAM;0DAAiB;oBACrB,WAAW;oBACX,SAAS;oBACT,MAAM,EACJ,MAAM,EAAE,IAAI,EAAE,EACf,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;oBAE/B,IAAI,CAAC,MAAM;wBACT,SAAS;wBACT,WAAW;wBACX;oBACF;oBAEA,wCAAwC;oBACxC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,YACL,MAAM,CAAC,4CACP,EAAE,CAAC,YAAY,KAAK,EAAE;oBAEzB,IAAI,OAAO;wBACT,SAAS,MAAM,OAAO;oBACxB,OAAO;wBACL,YAAY,QAAQ,EAAE;wBACtB,MAAM,QAAQ,MAAM;sEAClB,CAAC,KAAK,IAAM,MAAM,EAAE,MAAM,GAAG,EAAE,aAAa;qEAC5C;wBAEF,cAAc;oBAChB;oBACA,WAAW;gBACb;;YAEA;QACF;kCAAG;QAAC;KAAS;IAEb,MAAM,iBAAiB;QACrB,YAAY,CAAC,OAAU,SAAS,QAAQ,QAAQ;IAClD;IAEA,qBACE,2SAAC;QAAI,WAAU;kBACb,cAAA,2SAAC;YAAI,WAAU;;8BACb,2SAAC;oBAAO,WAAU;;sCAChB,2SAAC;4BAAG,WAAU;sCAAqB;;;;;;sCACnC,2SAAC;4BACC,SAAS;4BACT,WAAU;;gCACX;gCACY,aAAa,QAAQ,QAAQ;;;;;;;;;;;;;gBAI3C,wBACC,2SAAC;oBAAI,WAAU;8BAAkC;;;;;2BAC/C,sBACF,2SAAC;oBAAI,WAAU;8BAAkC;;;;;2BAC/C,SAAS,MAAM,KAAK,kBACtB,2SAAC;oBAAI,WAAU;8BAAkC;;;;;yCAIjD,2SAAC,uLAAM,CAAC,GAAG;oBACT,SAAS;wBAAE,SAAS;oBAAE;oBACtB,SAAS;wBAAE,SAAS;oBAAE;oBACtB,WAAU;;sCAEV,2SAAC;4BAAI,WAAU;sCACb,cAAA,2SAAC;;kDACC,2SAAC;wCAAG,WAAU;kDAAsC;;;;;;kDACpD,2SAAC;wCAAE,WAAU;;4CACV,aAAa,QAAQ,MAAM;4CAC3B,WAAW,cAAc,CAAC,WAAW;gDACpC,uBAAuB;4CACzB;;;;;;;;;;;;;;;;;;sCAKN,2SAAC;4BAAI,WAAU;sCACb,cAAA,2SAAC;gCAAM,WAAU;;kDACf,2SAAC;wCAAM,WAAU;kDACf,cAAA,2SAAC;;8DACC,2SAAC;oDAAG,WAAU;8DAAO;;;;;;8DACrB,2SAAC;oDAAG,WAAU;8DAAO;;;;;;8DACrB,2SAAC;oDAAG,WAAU;8DAAO;;;;;;8DACrB,2SAAC;oDAAG,WAAU;8DAAO;;;;;;8DACrB,2SAAC;oDAAG,WAAU;8DAAO;;;;;;8DACrB,2SAAC;oDAAG,WAAU;8DAA4B;;;;;;;;;;;;;;;;;kDAG9C,2SAAC;kDACE,SAAS,GAAG,CAAC,CAAC,GAAG;4CAChB,MAAM,QAAQ,EAAE,MAAM,GAAG,EAAE,aAAa;4CACxC,MAAM,MACJ,AAAC,CAAC,EAAE,aAAa,GAAG,EAAE,SAAS,IAAI,EAAE,SAAS,GAAI;4CACpD,qBACE,2SAAC;gDAEC,WAAU;;kEAEV,2SAAC;wDAAG,WAAU;kEAAsB,EAAE,MAAM;;;;;;kEAC5C,2SAAC;wDAAG,WAAU;kEAAQ,EAAE,MAAM;;;;;;kEAC9B,2SAAC;wDAAG,WAAU;;4DAAO;4DAAE,EAAE,SAAS,CAAC,OAAO,CAAC;;;;;;;kEAC3C,2SAAC;wDAAG,WAAU;;4DAAO;4DAAE,EAAE,aAAa,CAAC,OAAO,CAAC;;;;;;;kEAC/C,2SAAC;wDAAG,WAAU;;4DAAmB;4DAAE,MAAM,OAAO,CAAC;;;;;;;kEACjD,2SAAC;wDACC,WAAW,CAAC,0BAA0B,EACpC,OAAO,IAAI,mBAAmB,gBAC9B;;4DAED,IAAI,OAAO,CAAC;4DAAG;;;;;;;;+CAbb;;;;;wCAiBX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASlB;GApIwB;KAAA","debugId":null}}]
}