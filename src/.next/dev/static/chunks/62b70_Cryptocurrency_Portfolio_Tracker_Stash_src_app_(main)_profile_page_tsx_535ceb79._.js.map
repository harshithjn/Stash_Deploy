{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/harshithj/Documents/Projects/PESU_EC_CSE_D_P25_Digital_Asset_and_Cryptocurrency_Portfolio_Tracker_Stash/src/app/%28main%29/profile/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { createClient } from \"../../../lib/supabase/supabaseClient\";\nimport { motion } from \"framer-motion\";\n\nexport default function ProfilePage() {\n  const supabase = createClient();\n  const [user, setUser] = useState<any>(null);\n  const [fullName, setFullName] = useState(\"\");\n  const [updating, setUpdating] = useState(false);\n  const [message, setMessage] = useState(\"\");\n\n  useEffect(() => {\n    const getUser = async () => {\n      const { data: { user } } = await supabase.auth.getUser();\n      setUser(user);\n      if (user) {\n        // Optionally load extra profile info from your \"profiles\" table\n        const { data } = await supabase\n          .from(\"profiles\")\n          .select(\"full_name\")\n          .eq(\"id\", user.id)\n          .single();\n        if (data?.full_name) setFullName(data.full_name);\n      }\n    };\n    getUser();\n  }, []);\n\n  const handleUpdate = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setUpdating(true);\n    setMessage(\"\");\n\n    const { error } = await supabase\n      .from(\"profiles\")\n      .upsert({ id: user.id, full_name: fullName });\n\n    setUpdating(false);\n    if (error) setMessage(error.message);\n    else setMessage(\"Profile updated successfully!\");\n  };\n\n  const handlePasswordReset = async () => {\n    const { error } = await supabase.auth.resetPasswordForEmail(user.email, {\n      redirectTo: `${window.location.origin}/update-password`,\n    });\n    setMessage(error ? error.message : \"Password reset email sent!\");\n  };\n\n  return (\n    <div className=\"min-h-screen bg-black text-white flex items-center justify-center p-6\">\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        className=\"w-full max-w-lg bg-[#0b0b0b] border border-gray-800 p-8 rounded-2xl shadow-lg\"\n      >\n        <h1 className=\"text-2xl font-semibold mb-2 text-center\">Profile</h1>\n        <p className=\"text-gray-400 text-sm text-center mb-6\">\n          Manage your account details and security.\n        </p>\n\n        {!user ? (\n          <div className=\"text-gray-400 text-center\">Loading user data...</div>\n        ) : (\n          <form onSubmit={handleUpdate} className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm mb-1 text-gray-400\">Email</label>\n              <input\n                type=\"email\"\n                value={user.email}\n                disabled\n                className=\"w-full p-3 rounded-lg bg-black border border-gray-700 text-gray-400 cursor-not-allowed\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm mb-1 text-gray-400\">Full Name</label>\n              <input\n                type=\"text\"\n                value={fullName}\n                onChange={(e) => setFullName(e.target.value)}\n                placeholder=\"Enter your name\"\n                className=\"w-full p-3 rounded-lg bg-black border border-gray-700 focus:ring-2 focus:ring-gray-500 outline-none\"\n              />\n            </div>\n\n            <button\n              type=\"submit\"\n              disabled={updating}\n              className=\"w-full p-3 bg-white text-black rounded-lg font-semibold hover:bg-gray-200 transition\"\n            >\n              {updating ? \"Saving...\" : \"Save Changes\"}\n            </button>\n\n            <button\n              type=\"button\"\n              onClick={handlePasswordReset}\n              className=\"w-full p-3 bg-gray-800 text-gray-300 rounded-lg hover:bg-gray-700 transition\"\n            >\n              Change Password\n            </button>\n\n            <div className=\"text-center text-sm text-gray-500 mt-4\">\n              {message && <p>{message}</p>}\n            </div>\n          </form>\n        )}\n\n        <div className=\"text-center mt-6 text-gray-400 text-sm\">\n          <a href=\"/dashboard\" className=\"hover:underline\">‚Üê Back to Dashboard</a>\n        </div>\n      </motion.div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMe,SAAS;;IACtB,MAAM,WAAW,IAAA,kQAAY;IAC7B,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,uRAAQ,EAAM;IACtC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,uRAAQ,EAAC;IACzC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,uRAAQ,EAAC;IACzC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,uRAAQ,EAAC;IAEvC,IAAA,wRAAS;iCAAC;YACR,MAAM;iDAAU;oBACd,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;oBACtD,QAAQ;oBACR,IAAI,MAAM;wBACR,gEAAgE;wBAChE,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,SACpB,IAAI,CAAC,YACL,MAAM,CAAC,aACP,EAAE,CAAC,MAAM,KAAK,EAAE,EAChB,MAAM;wBACT,IAAI,MAAM,WAAW,YAAY,KAAK,SAAS;oBACjD;gBACF;;YACA;QACF;gCAAG,EAAE;IAEL,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,YAAY;QACZ,WAAW;QAEX,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SACrB,IAAI,CAAC,YACL,MAAM,CAAC;YAAE,IAAI,KAAK,EAAE;YAAE,WAAW;QAAS;QAE7C,YAAY;QACZ,IAAI,OAAO,WAAW,MAAM,OAAO;aAC9B,WAAW;IAClB;IAEA,MAAM,sBAAsB;QAC1B,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,qBAAqB,CAAC,KAAK,KAAK,EAAE;YACtE,YAAY,GAAG,OAAO,QAAQ,CAAC,MAAM,CAAC,gBAAgB,CAAC;QACzD;QACA,WAAW,QAAQ,MAAM,OAAO,GAAG;IACrC;IAEA,qBACE,2SAAC;QAAI,WAAU;kBACb,cAAA,2SAAC,uLAAM,CAAC,GAAG;YACT,SAAS;gBAAE,SAAS;gBAAG,GAAG;YAAG;YAC7B,SAAS;gBAAE,SAAS;gBAAG,GAAG;YAAE;YAC5B,WAAU;;8BAEV,2SAAC;oBAAG,WAAU;8BAA0C;;;;;;8BACxD,2SAAC;oBAAE,WAAU;8BAAyC;;;;;;gBAIrD,CAAC,qBACA,2SAAC;oBAAI,WAAU;8BAA4B;;;;;yCAE3C,2SAAC;oBAAK,UAAU;oBAAc,WAAU;;sCACtC,2SAAC;;8CACC,2SAAC;oCAAM,WAAU;8CAAmC;;;;;;8CACpD,2SAAC;oCACC,MAAK;oCACL,OAAO,KAAK,KAAK;oCACjB,QAAQ;oCACR,WAAU;;;;;;;;;;;;sCAId,2SAAC;;8CACC,2SAAC;oCAAM,WAAU;8CAAmC;;;;;;8CACpD,2SAAC;oCACC,MAAK;oCACL,OAAO;oCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;oCAC3C,aAAY;oCACZ,WAAU;;;;;;;;;;;;sCAId,2SAAC;4BACC,MAAK;4BACL,UAAU;4BACV,WAAU;sCAET,WAAW,cAAc;;;;;;sCAG5B,2SAAC;4BACC,MAAK;4BACL,SAAS;4BACT,WAAU;sCACX;;;;;;sCAID,2SAAC;4BAAI,WAAU;sCACZ,yBAAW,2SAAC;0CAAG;;;;;;;;;;;;;;;;;8BAKtB,2SAAC;oBAAI,WAAU;8BACb,cAAA,2SAAC;wBAAE,MAAK;wBAAa,WAAU;kCAAkB;;;;;;;;;;;;;;;;;;;;;;AAK3D;GA9GwB;KAAA","debugId":null}}]
}