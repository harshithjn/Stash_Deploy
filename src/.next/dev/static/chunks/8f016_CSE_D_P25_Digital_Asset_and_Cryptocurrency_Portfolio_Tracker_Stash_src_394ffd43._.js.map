{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/harshithj/Documents/Projects/PESU_EC_CSE_D_P25_Digital_Asset_and_Cryptocurrency_Portfolio_Tracker_Stash/src/lib/supabase/supabaseClient.ts"],"sourcesContent":["// src/lib/supabase/client.ts\nimport { createBrowserClient } from '@supabase/ssr'\n\nexport function createClient() {\n  return createBrowserClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n  )\n}"],"names":[],"mappings":"AAAA,6BAA6B;;;;;AAKzB;AAJJ;AAAA;;AAEO,SAAS;IACd,OAAO,IAAA,kTAAmB;AAI5B","debugId":null}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///Users/harshithj/Documents/Projects/PESU_EC_CSE_D_P25_Digital_Asset_and_Cryptocurrency_Portfolio_Tracker_Stash/src/app/%28main%29/analytics/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { createClient } from \"../../../lib/supabase/supabaseClient\";\nimport { LineChart, Line, PieChart, Pie, Cell, Tooltip, XAxis, YAxis, ResponsiveContainer } from \"recharts\";\nimport { motion } from \"framer-motion\";\n\nexport default function AnalyticsPage() {\n  const supabase = createClient();\n  const [roiData, setRoiData] = useState<any[]>([]);\n  const [allocData, setAllocData] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchAnalytics = async () => {\n      const {\n        data: { user },\n      } = await supabase.auth.getUser();\n      if (!user) return;\n\n      // Fetch ROI trend (mocked from holdings table)\n      const { data } = await supabase\n        .from(\"roi_history\")\n        .select(\"date, roi_percentage, asset_allocation\");\n\n      if (data) {\n        setRoiData(data.map((d) => ({ date: d.date, roi: d.roi_percentage })));\n\n        const alloc = data[data.length - 1]?.asset_allocation || {};\n        const formattedAlloc = Object.entries(alloc).map(([k, v]) => ({\n          name: k,\n          value: v,\n        }));\n        setAllocData(formattedAlloc);\n      }\n      setLoading(false);\n    };\n    fetchAnalytics();\n  }, [supabase]);\n\n  const COLORS = [\"#00C49F\", \"#FFBB28\", \"#FF8042\", \"#8884d8\", \"#FF6666\"];\n\n  return (\n    <div className=\"min-h-screen bg-black text-white p-6\">\n      <div className=\"max-w-6xl mx-auto\">\n        <h1 className=\"text-3xl font-bold mb-8\">Analytics Dashboard</h1>\n\n        {loading ? (\n          <div className=\"text-gray-500 text-center mt-20\">Loading analytics...</div>\n        ) : (\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            className=\"space-y-10\"\n          >\n            <section className=\"bg-[#0b0b0b] border border-gray-800 rounded-2xl p-6\">\n              <h2 className=\"text-xl font-semibold mb-4\">ROI Trend</h2>\n              <ResponsiveContainer width=\"100%\" height={300}>\n                <LineChart data={roiData}>\n                  <XAxis dataKey=\"date\" stroke=\"#666\" />\n                  <YAxis stroke=\"#666\" />\n                  <Tooltip />\n                  <Line type=\"monotone\" dataKey=\"roi\" stroke=\"#00C49F\" strokeWidth={2} />\n                </LineChart>\n              </ResponsiveContainer>\n            </section>\n\n            <section className=\"bg-[#0b0b0b] border border-gray-800 rounded-2xl p-6\">\n              <h2 className=\"text-xl font-semibold mb-4\">Asset Allocation</h2>\n              <ResponsiveContainer width=\"100%\" height={300}>\n                <PieChart>\n                  <Pie\n                    data={allocData}\n                    dataKey=\"value\"\n                    nameKey=\"name\"\n                    outerRadius={100}\n                    fill=\"#8884d8\"\n                  >\n                    {allocData.map((_, index) => (\n                      <Cell key={index} fill={COLORS[index % COLORS.length]} />\n                    ))}\n                  </Pie>\n                  <Tooltip />\n                </PieChart>\n              </ResponsiveContainer>\n            </section>\n          </motion.div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;AALA;;;;;AAOe,SAAS;;IACtB,MAAM,WAAW,IAAA,kQAAY;IAC7B,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,uRAAQ,EAAQ,EAAE;IAChD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,uRAAQ,EAAQ,EAAE;IACpD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,uRAAQ,EAAC;IAEvC,IAAA,wRAAS;mCAAC;YACR,MAAM;0DAAiB;oBACrB,MAAM,EACJ,MAAM,EAAE,IAAI,EAAE,EACf,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;oBAC/B,IAAI,CAAC,MAAM;oBAEX,+CAA+C;oBAC/C,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,SACpB,IAAI,CAAC,eACL,MAAM,CAAC;oBAEV,IAAI,MAAM;wBACR,WAAW,KAAK,GAAG;sEAAC,CAAC,IAAM,CAAC;oCAAE,MAAM,EAAE,IAAI;oCAAE,KAAK,EAAE,cAAc;gCAAC,CAAC;;wBAEnE,MAAM,QAAQ,IAAI,CAAC,KAAK,MAAM,GAAG,EAAE,EAAE,oBAAoB,CAAC;wBAC1D,MAAM,iBAAiB,OAAO,OAAO,CAAC,OAAO,GAAG;qFAAC,CAAC,CAAC,GAAG,EAAE,GAAK,CAAC;oCAC5D,MAAM;oCACN,OAAO;gCACT,CAAC;;wBACD,aAAa;oBACf;oBACA,WAAW;gBACb;;YACA;QACF;kCAAG;QAAC;KAAS;IAEb,MAAM,SAAS;QAAC;QAAW;QAAW;QAAW;QAAW;KAAU;IAEtE,qBACE,2SAAC;QAAI,WAAU;kBACb,cAAA,2SAAC;YAAI,WAAU;;8BACb,2SAAC;oBAAG,WAAU;8BAA0B;;;;;;gBAEvC,wBACC,2SAAC;oBAAI,WAAU;8BAAkC;;;;;yCAEjD,2SAAC,uLAAM,CAAC,GAAG;oBACT,SAAS;wBAAE,SAAS;oBAAE;oBACtB,SAAS;wBAAE,SAAS;oBAAE;oBACtB,WAAU;;sCAEV,2SAAC;4BAAQ,WAAU;;8CACjB,2SAAC;oCAAG,WAAU;8CAA6B;;;;;;8CAC3C,2SAAC,2SAAmB;oCAAC,OAAM;oCAAO,QAAQ;8CACxC,cAAA,2SAAC,mRAAS;wCAAC,MAAM;;0DACf,2SAAC,+QAAK;gDAAC,SAAQ;gDAAO,QAAO;;;;;;0DAC7B,2SAAC,+QAAK;gDAAC,QAAO;;;;;;0DACd,2SAAC,mRAAO;;;;;0DACR,2SAAC,6QAAI;gDAAC,MAAK;gDAAW,SAAQ;gDAAM,QAAO;gDAAU,aAAa;;;;;;;;;;;;;;;;;;;;;;;sCAKxE,2SAAC;4BAAQ,WAAU;;8CACjB,2SAAC;oCAAG,WAAU;8CAA6B;;;;;;8CAC3C,2SAAC,2SAAmB;oCAAC,OAAM;oCAAO,QAAQ;8CACxC,cAAA,2SAAC,iRAAQ;;0DACP,2SAAC,uQAAG;gDACF,MAAM;gDACN,SAAQ;gDACR,SAAQ;gDACR,aAAa;gDACb,MAAK;0DAEJ,UAAU,GAAG,CAAC,CAAC,GAAG,sBACjB,2SAAC,6QAAI;wDAAa,MAAM,MAAM,CAAC,QAAQ,OAAO,MAAM,CAAC;uDAA1C;;;;;;;;;;0DAGf,2SAAC,mRAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAS1B;GApFwB;KAAA","debugId":null}}]
}